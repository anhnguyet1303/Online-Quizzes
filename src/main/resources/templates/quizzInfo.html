<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" media="all" 
        href="/css/quizzInfo.css" th:href="@{/css/quizzInfo.css}">
</head>
<body>
<di class="container">
    <di role="main" class="center" >
        <h1 th:text = "${quiz.getQuizName()} + ' - ' + ${quiz.getSubject().getSubjectName()}"></h1>
        <div class="box quizinfo">
            <p th:if="${not #lists.isEmpty(listAttempts)}"><span class="bold-text">This quiz opened at: </span><span th:text="'   ' + ${listAttempts.get(0).getStartTime()}">
                </span></p>
            <p></p>
            <p><span class="bold-text">Time limit:</span><span th:text="' ' + ${quiz.getTimeLimit()} + ' '"></span>min</p>
        </div>
        <h3>Summary of your previous attempts</h3>
        <div class="generaltable quizattemptsummary">
            <div class="table100 ver1 m-b-110">
                <div class="table100-head">
                    <table>
                        <thead>
                        <tr class="row100 head">
                            <th class="header c0 cell100 column1" style="text-align:center;" scope="col">Attempt</th>
                            <th class="header c1 cell100 column2" style="text-align:center;" scope="col">State</th>
                            <th class="header c2 cell100 column3" style="text-align:center;" scope="col">Marks / <span th:if="${not #lists.isEmpty(attempt)}" class="statedetails"
                                                                                                                       th:text="' ' + ${listAttempts.get(listAttempts.size() - 1).getListQuestionAttempts().size()}"></span></th>
                            <th class="header c3 cell100 column4" style="text-align:center;" scope="col">Grade / 10.00</th>
                            <th class="header c4 cell100 column5 lastcol" style="text-align:center;" scope="col">Review</th>
                        </tr>
                        </thead>
                    </table>
                </div>

                <div class="table100-body js-pscroll" >
                    <table>
                        <tbody >
                        <tr th:if="${not #lists.isEmpty(listAttempts)}" class="row100 body" th:each = "attempt, attemptIndex : ${listAttempts}">
                            <td class="cell c0 cell100 column1" style="text-align:center;"th:text="${attemptIndex.index + 1}"></td>
                            <td class="cell c1 cell100 column2" style="text-align:center;" >
                                <span th:if="${attempt.getIsCompleted()}" class="statedetails" th:text = "'Finished ' + ' Submitted  ' + ${attempt.getEndTime()}"></span>
                                <span th:unless="${attempt.getIsCompleted()}" class="statedetails">Attempting</span>
                            </td>
                            <td class="cell c2 cell100 column3" style="text-align:center;">12.00</td>
                            <td class="cell c3 cell100 column4" style="text-align:center;" th:text = "${attempt.getMarks()}"></td>
                            <td class="cell c4 cell100 column5 lastcol" style="text-align:center;">
                                <a th:if="${attempt.getIsCompleted()}" title="Review your responses to this attempt" href="#">Review</a>
                                <a th:unless="${attempt.getIsCompleted()}" title="Review your responses to this attempt" href="/attempt/test"
                                   th:href="@{/attempt/attemptQuiz/{quizID}/{attemptID}/1(quizID = ${quiz.getQuizId()}, attemptID = ${attempt.getAttemptId()})}">Continue</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div id="feedback" class="box generalbox py-3">
                <h3>Highest grade: 10.00 / 10.00.</h3>
            </div>
            <div class="box quizattempt py-3">
                <div class="singlebutton quizstartbuttondiv">
                    <div class="button-load">
                        <a type="button" class="btn btn-secondary button type1" id="single_button65a7e4377305618" title=""
                           href="/attempt/test" th:href="@{/attempt/attemptQuiz/{id}(id=${quiz.getQuizId()})}">
                            <span class="btn-txt">Re-attempt quiz</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        </div>
</body>
</html>